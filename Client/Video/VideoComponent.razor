@namespace Oqtane.ChatHubs

@using Oqtane.ChatHubs.Services
@using Oqtane.Shared.Models

<style type="text/css">

    .ellipsis {
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
    }

    .background-gradient-blue {
        background-image: linear-gradient(to bottom, rgba(255,255,255,1), rgba(49,94,182,1));
    }

    .background-gradient-red {
        background-image: linear-gradient(to bottom, rgba(255,255,255,1), rgba(182,94,49,1));
    }

</style>

<div>

    <div class="d-flex align-items-center bd-highlight">

        @if (ChatHubService.ConnectedUser.UserId == ChatHubRoom.CreatorId)
        {
            <div class="bd-highlight px-1">
                <pre class="text-white px-2 py-2 mb-0 ellipsis background-gradient-blue" style="width: 100px;">
                    <small>[loc.] @ChatHubRoom.Title</small>
                </pre>
                <video id="chathubs-video-local-@ChatHubRoom.Id" class="chathubs-video-local mb-0" width="100" height="100" controls></video>
                <canvas id="chathubs-canvas-local-@ChatHubRoom.Id" class="chathubs-canvas-local bg-light d-none"></canvas>
            </div>
        }
        else
        {
            <div class="bd-highlight px-1">
                <pre class="text-white px-2 py-2 mb-0 ellipsis background-gradient-red" style="width: 100px">
                    <small>[rem.] @ChatHubRoom.Title</small>
                </pre>
                <video id="chathubs-video-remote-@ChatHubRoom.Id" class="chathubs-video-remote mb-0" width="100" height="100" controls></video>
                <canvas id="chathubs-canvas-remote-@ChatHubRoom.Id" class="chathubs-canvas-remote bg-light d-none"></canvas>
            </div>
        }

    </div>

</div>

@code {

    [Inject]
    public IChatHubService ChatHubService { get; set; }

    [Parameter]
    public ChatHubRoom ChatHubRoom { get; set; }

}
